# ============================================
# BuildOS Platform - Complete Environment Variables
# ============================================
# Copy this file to .env and fill in your values

# ============================================
# SUPABASE CONFIGURATION (Required)
# ============================================
# These are used by both apps
PUBLIC_SUPABASE_URL=https://your-project.supabase.co
PUBLIC_SUPABASE_ANON_KEY=your-anon-key
PUBLIC_SUPABASE_PROJECT_ID=your-project  # The part before .supabase.co
PRIVATE_SUPABASE_SERVICE_KEY=your-service-key


# ============================================
# AI/LLM CONFIGURATION (Required)
# ============================================
# Primary AI provider
PRIVATE_OPENROUTER_API_KEY=sk-or-...       # OpenRouter API key (primary)

# Fallback providers
PRIVATE_OPENAI_API_KEY=sk-...              # OpenAI API key (fallback)
PRIVATE_ANTHROPIC_API_KEY=sk-ant-...       # Anthropic Claude API key (fallback)

PRIVATE_TAVILY_API_KEY=tvly-...

# For local Ollama (optional)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# ============================================
# GOOGLE OAUTH (Required for calendar)
# ============================================
# Note: Some places use PUBLIC, some use PRIVATE for client ID
PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
PRIVATE_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com  # Same as PUBLIC
PRIVATE_GOOGLE_CLIENT_SECRET=your-google-secret
GOOGLE_CLIENT_SECRET=your-google-secret  # Alias for some endpoints

# ============================================
# STRIPE PAYMENTS (Optional)
# ============================================
ENABLE_STRIPE=false  # Set to true to enable payments
STRIPE_SECRET_KEY=sk_test_...
PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID=price_...  # Your subscription price ID

# ============================================
# APPLICATION CONFIGURATION
# ============================================
PUBLIC_APP_URL=http://localhost:5173  # Change for production
NODE_ENV=development

# ============================================
# WORKER COMMUNICATION
# ============================================
# Development: http://localhost:3001
# Production: https://buildos-worker.up.railway.app
PUBLIC_RAILWAY_WORKER_URL=http://localhost:3001

# Brief polling configuration (using defaults)
PUBLIC_BRIEF_POLLING_INTERVAL=5000     # 5 seconds polling interval
PUBLIC_BRIEF_MAX_POLLING_TIME=300000   # 5 minutes max polling time

# ============================================
# EMAIL CONFIGURATION (Web App)
# ============================================
# Email accounts: dj@build-os.com and zach@build-os.com
PRIVATE_DJ_GMAIL_APP_PASSWORD=your-dj-app-password
PRIVATE_ZACH_GMAIL_APP_PASSWORD=your-zach-app-password

# ============================================
# WORKER SPECIFIC CONFIGURATION
# ============================================
PORT=3001  # Worker port
WORKER_NODE_ENV=production  # Can be different from main app

# Queue Configuration
QUEUE_POLL_INTERVAL=5000
QUEUE_BATCH_SIZE=5
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_BACKOFF_BASE=1000
QUEUE_ENABLE_PROGRESS_TRACKING=true
QUEUE_PROGRESS_UPDATE_RETRIES=3
QUEUE_STATS_UPDATE_INTERVAL=60000
QUEUE_ENABLE_HEALTH_CHECKS=true
QUEUE_WORKER_TIMEOUT=600000
QUEUE_ENABLE_CONCURRENT_PROCESSING=true
QUEUE_STALLED_TIMEOUT=300000

# Worker Email Configuration - Using Webhook Method
USE_WEBHOOK_EMAIL=true
BUILDOS_WEBHOOK_URL=http://localhost:5173/webhooks/daily-brief-email  # Change to your Vercel URL in production
BUILDOS_WEBHOOK_SECRET=your-webhook-secret  # Must match PRIVATE_BUILDOS_WEBHOOK_SECRET
WEBHOOK_TIMEOUT=30000

# ============================================
# SECURITY & WEBHOOKS
# ============================================
PRIVATE_CRON_SECRET=your-random-cron-secret  # For cron job authentication
PRIVATE_BUILDOS_WEBHOOK_SECRET=your-webhook-secret  # For webhook verification

# ============================================
# DEVELOPMENT VS PRODUCTION EXAMPLES
# ============================================

# === DEVELOPMENT ===
# NODE_ENV=development
# PUBLIC_APP_URL=http://localhost:5173
# PUBLIC_RAILWAY_WORKER_URL=http://localhost:3001
# ENABLE_STRIPE=false
# QUEUE_POLL_INTERVAL=2000
# QUEUE_BATCH_SIZE=2

# === PRODUCTION ===
# NODE_ENV=production
# PUBLIC_APP_URL=https://buildos.app
# PUBLIC_RAILWAY_WORKER_URL=https://buildos-worker.up.railway.app
# ENABLE_STRIPE=true
# QUEUE_POLL_INTERVAL=5000
# QUEUE_BATCH_SIZE=10